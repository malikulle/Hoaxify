(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a(24),r=a.n(s),i=(a(58),a(59),a(60),a(61),a(2)),o=a.n(i),l=a(7),u=a(18),d=a(3),j=a(4),b=function(e){var t=e.pendingApiCall,a=e.label,c=e.type,s=e.className,r=e.onClick;return c||(c="button"),s||(s="btn btn-primary"),Object(n.jsxs)("button",{onClick:r,className:s,disabled:t,type:c,children:[t&&Object(n.jsx)("div",{className:"spinner-border spinner-border-sm"}),a]})},p=a(5),m=a.n(p),O="LOGIN_SUCCESS",x="DISPLAYNAME_UPDATED_SUCCESS",h="LOGOUT_SUCCESS",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return m.a.get("/api/1.0/users?page=".concat(e,"&size=").concat(t))},g=function(e){return m.a.get("/api/1.0/users/".concat(e))},v=function(e,t){return m.a.put("/api/1.0/users/".concat(e),t)},N=function(e){return m.a.post("/api/1.0/hoaxes",e)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?m.a.get("/api/1.0/hoaxes/".concat(e,"/users?page=").concat(t)):m.a.get("/api/1.0/hoaxes?page=".concat(t))},w=function(e,t){return e?m.a.get("/api/1.0/hoaxes/".concat(e,"/users/").concat(t)):m.a.get("/api/1.0/hoaxes/".concat(t))},k=function(e,t){return e?m.a.get("/api/1.0/hoaxes/".concat(e,"/users/").concat(t,"?count=true")):m.a.get("/api/1.0/hoaxes/".concat(t,"?count=true"))},S=function(e,t){return e?m.a.get("/api/1.0/hoaxes/".concat(e,"/users/").concat(t,"?direction=after")):m.a.get("/api/1.0/hoaxes/".concat(t,"?direction=after"))},C=function(e){return m.a.delete("/api/1.0/hoaxes/".concat(e))},U=function(e){return m.a.delete("/api/1.0/users/".concat(e))},L=function(e){var t=e.onChange,a=e.type,c=e.name,s=e.label,r=e.error,i=e.disabled,o=e.value;a||(a="text");var l="form-control";return"file"===a&&(l+="file"),r&&(l+=" is-invalid"),Object(n.jsxs)("div",{className:"form-group",children:[s&&Object(n.jsx)("label",{children:s}),Object(n.jsx)("input",{type:a,name:c,disabled:i,onChange:t,className:l,defaultValue:o}),r&&Object(n.jsx)("div",{className:"text-danger",children:r})]})},I=a(27),A=a.n(I),P=function(e,t,a){var n=Object(c.useState)(!1),s=Object(j.a)(n,2),r=s[0],i=s[1];return Object(c.useEffect)((function(){var n,c,s=function(n,c,s){n===e&&(a&&c===t||!a&&c.startsWith(t))&&i(s)};return n=m.a.interceptors.request.use((function(e){var t=e.url,a=e.method;return s(a,t,!0),e})),c=m.a.interceptors.response.use((function(e){var t=e.config,a=t.url,n=t.method;return s(n,a,!1),e}),(function(e){var t=e.config,a=t.url,n=t.method;throw s(n,a,!1),e})),function(){m.a.interceptors.request.eject(n),m.a.interceptors.response.eject(c)}}),[t,e,a]),r},E=a(92),H=a(9),D=a(8),F=function(){var e=Object(E.a)().t,t=Object(H.b)(),a=Object(D.g)(),s=Object(c.useState)({username:"",displayName:"",password:"",rePassword:""}),r=Object(j.a)(s,2),i=r[0],p=r[1],x=Object(c.useState)([]),h=Object(j.a)(x,2),f=h[0],g=h[1],v=P("post","/api/1.0/users"),N=function(e){var t=e.target,a=t.name,n=t.value;p((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},a,n))})),g((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},a,void 0))}))},y=function(){var n=Object(l.a)(o.a.mark((function n(c){var s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),i.password===i.rePassword){n.next=4;break}return A.a.error(e("userSignup.passwordNotMatch")),n.abrupt("return");case 4:return n.prev=4,n.next=7,r=i,m.a.post("/api/1.0/users",r);case 7:t({type:O,payload:Object(d.a)({},i)}),a.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),n.t0.response&&n.t0.response.data&&(s=n.t0.response.data).validationErrors&&g(s.validationErrors);case 14:case"end":return n.stop()}var r}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}();return i.password!==i.rePassword&&(f.rePassword=e("userSignup.passwordNotMatch")),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-3"}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header text-center",children:Object(n.jsx)("div",{children:e("userSignup.signUp")})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{children:[Object(n.jsx)(L,{type:"text",name:"username",label:e("userSignup.username"),onChange:N,error:f.username}),Object(n.jsx)(L,{type:"text",name:"displayName",label:e("userSignup.displayName"),onChange:N,error:f.displayName}),Object(n.jsx)(L,{type:"password",name:"password",label:e("userSignup.password"),onChange:N,error:f.password}),Object(n.jsx)(L,{type:"password",name:"rePassword",label:e("userSignup.rePassword"),onChange:N,error:f.rePassword}),Object(n.jsx)("div",{className:"text-center mt-2",children:Object(n.jsx)(b,{className:"btn btn-primary",disabled:v,type:"button",onClick:y,label:e("userSignup.signUp"),pendingApiCall:v})})]})})]})}),Object(n.jsx)("div",{className:"col-lg-3"})]})})},M=function(e){var t=Object(E.a)().i18n,a=function(e){m.a.defaults.headers["accept-language"]=e,t.changeLanguage(e)};return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("img",{src:"https://www.countryflags.io/tr/flat/24.png",style:{cursor:"pointer"},alt:"",onClick:function(){return a("tr")}}),Object(n.jsx)("img",{src:"https://www.countryflags.io/us/flat/24.png",style:{cursor:"pointer"},alt:"",onClick:function(){return a("en")}})]})},z=function(){var e=Object(E.a)().t,t=Object(D.g)(),a=Object(H.b)(),s=Object(c.useState)({username:"",password:""}),r=Object(j.a)(s,2),i=r[0],p=r[1],x=Object(c.useState)(null),h=Object(j.a)(x,2),f=h[0],g=h[1],v=P("post","/api/1.0/auth"),N=function(e){var t=e.target,a=t.name,n=t.value;p((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(u.a)({},a,n))}))},y=function(){var e=Object(l.a)(o.a.mark((function e(n){var c,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,o=i,m.a.post("/api/1.0/auth",o);case 4:c=e.sent,s=c.data,a({type:O,payload:Object(d.a)(Object(d.a)({},s.user),{},{token:s.token,password:i.password})}),t.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response&&e.t0.response.data&&(r=e.t0.response.data).message&&(g(r.message),setTimeout((function(){g(null)}),3e3));case 13:case"end":return e.stop()}var o}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-lg-3"}),Object(n.jsx)("div",{className:"col-lg-6",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header text-center",children:Object(n.jsx)("div",{children:e("userLoginPage.Login")})}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsxs)("form",{children:[Object(n.jsx)(L,{type:"text",name:"username",label:e("userSignup.username"),onChange:N}),Object(n.jsx)(L,{type:"password",name:"password",label:e("userSignup.password"),onChange:N}),f&&Object(n.jsx)("div",{className:"mt-2",children:Object(n.jsx)("div",{className:"alert alert-danger",children:f})}),Object(n.jsx)("div",{className:"text-center mt-2",children:Object(n.jsx)(b,{className:"btn btn-primary",disabled:v,type:"button",onClick:y,label:e("userLoginPage.Login"),pendingApiCall:v})})]})})]})}),Object(n.jsx)("div",{className:"col-lg-3"})]})})},B=a(10),G=a(19),T=a.p+"static/media/profile.06c30927.png",_=function(e){var t=e.image,a=e.alt,c=e.width,s=e.height,r=e.tempimage,i=T;return t&&(i="/images/profile/"+t),r&&(i=r),Object(n.jsx)("img",{className:"rounded-circle shadow",width:c,height:s,alt:a,src:i,onError:function(e){e.target.src=T}})},R=a(30),K=function(e){var t=e.visible,a=e.onClickCancel,c=e.message,s=e.onClickOk,r=e.pendingApiCall,i=e.title,o=e.okButton,l=Object(E.a)().t,u="modal fade";return t&&(u+=" show d-block"),Object(n.jsx)("div",{className:u,style:{backgroundColor:"#000000b0"},children:Object(n.jsx)("div",{className:"modal-dialog",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsx)("div",{className:"modal-header",children:Object(n.jsx)("h5",{className:"modal-title",children:i})}),Object(n.jsx)("div",{className:"modal-body",children:c}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{className:"btn btn-secondary",disabled:r,onClick:a,children:l("cancel")}),Object(n.jsx)(b,{label:o,className:"btn btn-danger",onClick:s,pendingApiCall:r,disabled:r,text:o})]})]})})})},Y=function(e){var t=Object(H.c)((function(e){return{loggedInUser:e.loggedInUser}})).loggedInUser,a=Object(E.a)().t,s=Object(c.useState)(!1),r=Object(j.a)(s,2),i=r[0],u=r[1],d=e.hoax,b=e.onDeleteHoax,p=d.user,m=d.content,O=d.timestamp,x=d.fileAttachment,h=d.id,f=p.username,g=p.displayName,v=p.image,N=Object(E.a)().i18n,y=Object(R.a)(O,N.language),w=t.username===f,k=P("delete","/api/1.0/hoaxes/".concat(h)),S=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(h);case 2:b(h);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"card p-1",children:[Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{className:"m-1",children:Object(n.jsx)(_,{image:v,height:32,width:32})}),Object(n.jsx)("div",{className:"flex-fill m-auto pl-2",children:Object(n.jsxs)(B.b,{to:"user/".concat(f),className:"text-dark",children:[Object(n.jsxs)("h6",{className:"d-inline",children:[g,"@",f]}),Object(n.jsx)("span",{children:" - "}),Object(n.jsx)("span",{children:y})]})}),w&&Object(n.jsx)("button",{className:"btn btn-delete-link",onClick:function(){return u(!0)},children:Object(n.jsx)("span",{className:"material-icons",children:"delete_outline"})})]}),Object(n.jsx)("div",{className:"pl-5",children:m}),x&&Object(n.jsx)("div",{className:"pl-5",children:Object(n.jsx)("img",{className:"img-fluid",src:"images/attachment/"+x.name,alt:""})}),Object(n.jsx)(K,{visible:i,title:a("Delete Hoax"),onClickCancel:function(){u(!1)},onClickOk:S,message:Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsx)("strong",{children:a("Are you sure to delete hoax?")})})}),pendingApiCall:k,okButton:a("Delete Hoax")})]})},V=function(){return Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)("div",{className:"spinner-border text-black-50",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})},q=function(){var e=P("get","/api/1.0/hoaxes"),t=Object(E.a)().t,a=Object(D.h)().username,s=Object(c.useState)(0),r=Object(j.a)(s,2),i=r[0],u=r[1],b=Object(c.useState)({content:[],last:!0,number:0}),p=Object(j.a)(b,2),m=p[0],O=p[1],x=0;m.content.length>0&&(x=m.content[0].id);var h=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.content.length-1,n=m.content[t].id,e.prev=2,e.next=5,w(a,n);case 5:c=e.sent,s=c.data,O((function(e){return Object(d.a)(Object(d.a)({},s),{},{content:[].concat(Object(G.a)(e.content),Object(G.a)(s.content))})})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),f=P("get","/api/1.0/hoaxes/".concat(x,"?direction=after")),g=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(a,x);case 3:t=e.sent,n=t.data,O((function(e){return Object(d.a)(Object(d.a)({},n),{},{content:[].concat(Object(G.a)(n),Object(G.a)(e.content))})})),u(0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(e){O((function(t){return Object(d.a)(Object(d.a)({},t),{},{content:t.content.filter((function(t){return t.id!==e}))})}))};Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(a,x);case 3:t=e.sent,n=t.data,u(n.count),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=setInterval((function(){e()}),3500);return function(){clearInterval(t)}}),[x,a]),Object(c.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(a,t);case 2:n=e.sent,c=n.data,O((function(e){return Object(d.a)(Object(d.a)({},c),{},{content:[].concat(Object(G.a)(e.content),Object(G.a)(c.content))})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()()}),[a]);var N=m.content,C=m.last;return 0===N.length?Object(n.jsx)("div",{className:"alert alert-secondary text-center",children:t("noHoax")}):Object(n.jsxs)("div",{children:[i>0&&Object(n.jsx)("div",{onClick:function(){return f?function(){}:g()},style:{cursor:f?"not-allowed":"pointer"},className:"alert alert-secondary text-center",children:f?Object(n.jsx)(V,{}):Object(n.jsx)("span",{children:t("loadNewHoaxes")})}),N.map((function(e){return Object(n.jsx)(Y,{hoax:e,onDeleteHoax:v},e.id)})),!C&&Object(n.jsxs)(n.Fragment,{children:[e&&Object(n.jsx)("div",{style:{cursor:"pointer"},className:"alert alert-secondary text-center",children:Object(n.jsx)(V,{})}),!e&&Object(n.jsx)("div",{onClick:function(){return h()},style:{cursor:"pointer"},className:"alert alert-secondary text-center",children:t("loadOldHoax")})]})]})},J=(a(90),function(e){var t=e.image,a=e.uploading;return Object(n.jsxs)("div",{style:{position:"relative"},children:[Object(n.jsx)("img",{className:"img-thumbnail",src:t,alt:"hoax-attachment"}),Object(n.jsx)("div",{className:"overlay",style:{opacity:a?1:0},children:Object(n.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(n.jsx)("div",{className:"spinner-border text-light m-auto",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})})})})]})}),W=function(){var e=P("post","/api/1.0/hoaxes"),t=P("post","/api/1.0/hoax-attachment",!0),a=Object(E.a)().t,s=Object(H.c)((function(e){return{loggedInUser:e.loggedInUser}})).loggedInUser,r=Object(c.useState)(!1),i=Object(j.a)(r,2),u=i[0],d=i[1],p=Object(c.useState)(""),O=Object(j.a)(p,2),x=O[0],h=O[1],f=Object(c.useState)({}),g=Object(j.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(""),k=Object(j.a)(w,2),S=k[0],C=k[1],U=Object(c.useState)(null),I=Object(j.a)(U,2),A=I[0],D=I[1];Object(c.useEffect)((function(){u||(h(""),C(""),y({}),D(null))}),[u]),Object(c.useEffect)((function(){y({})}),[x]);var F=s.image,M=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={content:x,attachmentId:A},e.next=4,N(t);case 4:d(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response&&e.t0.response.data&&(a=e.t0.response.data).validationErrors&&y(a.validationErrors);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),e.prev=2,e.next=5,s=a,m.a.post("/api/1.0/hoax-attachment",s);case 5:n=e.sent,c=n.data,D(c.id),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}var s}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),B="form-control";return v.content&&(B+=" is-invalid"),Object(n.jsxs)("div",{className:"card p-2 flex-row",children:[Object(n.jsx)("div",{className:"mr-1",children:Object(n.jsx)(_,{image:F,width:"32",height:"32"})}),Object(n.jsxs)("div",{className:"flex-fill",children:[Object(n.jsx)("textarea",{value:x,onChange:function(e){return h(e.target.value)},className:B,rows:u?"3":"1",onFocus:function(){return d(!0)}}),v.content&&Object(n.jsx)("div",{className:"text-danger",children:v.content}),u&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(L,{type:"file",onChange:function(e){if(!(e.target.files.length<1)){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){C(a.result),z(t)},a.readAsDataURL(t)}}}),S&&Object(n.jsx)(J,{uploading:t,image:S}),Object(n.jsxs)("div",{className:"text-right mt-2",children:[Object(n.jsx)(b,{className:"btn btn-primary btn-sm",pendingApiCall:e,disabled:e||t,onClick:M,label:"Hoax"}),Object(n.jsxs)("button",{className:"btn btn-light btn-sm d-inline-flex ml-2",onClick:function(){return d(!1)},children:[Object(n.jsx)("span",{className:"material-icons",children:"close"}),a("cancel")]})]})]})]})]})},Q=function(e){var t=e.user;return Object(n.jsxs)(B.b,{to:"/user/".concat(t.username),className:"list-group-item list-group-item-action",children:[Object(n.jsx)(_,{width:"32",height:"32",alt:t.username,src:t.image,image:t.image}),Object(n.jsxs)("span",{className:"pl-2",children:[t.username," @ ",t.displayName]})]})},X=function(e){var t=Object(E.a)().t,a=P("get","/api/1.0/users"),s=Object(c.useState)({content:[],number:0,size:3}),r=Object(j.a)(s,2),i=r[0],u=r[1],d=Object(c.useState)(!1),b=Object(j.a)(d,2),p=b[0],m=b[1],O=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t,a);case 3:n=e.sent,c=n.data,u(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O()}),[]);var x=function(){var e=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.number,"next"===t&&(a+=1),"prev"===t&&(a-=1),e.next=5,O(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=i.last,g=i.first,v=i.content,N=Object(n.jsxs)("div",{children:[!1===g&&Object(n.jsx)("button",{className:"btn btn-light btn-sm",onClick:function(){return x("prev")},children:t("previous")}),!1===h&&Object(n.jsx)("button",{className:"btn btn-light btn-sm float-right",onClick:function(){return x("next")},children:t("next")})]});return a&&(N=Object(n.jsx)(V,{})),Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header text-center",children:Object(n.jsx)("h3",{children:t("users")})}),Object(n.jsx)("div",{className:"list-group-flush",children:v.map((function(e){return Object(n.jsx)(Q,{user:e},e.username)}))}),N,p&&Object(n.jsx)("div",{className:"text-center text-danger",children:t("LoadFailure")})]})},Z=function(){var e=Object(H.c)((function(e){return{loggedInUser:e.loggedInUser}})).loggedInUser.isLoggedIn;return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col",children:[e&&Object(n.jsx)("div",{className:"mb-1",children:Object(n.jsx)(W,{})}),Object(n.jsx)(q,{})]}),Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(X,{})})]})})},$=a(36),ee=function(e){var t=Object(E.a)().t,a=Object(H.b)(),s=Object(D.g)(),r=Object(c.useState)({}),i=Object(j.a)(r,2),u=i[0],p=i[1],m=Object(c.useState)(!1),O=Object(j.a)(m,2),f=O[0],g=O[1],N=Object(c.useState)(""),y=Object(j.a)(N,2),w=y[0],k=y[1],S=Object(c.useState)([]),C=Object(j.a)(S,2),I=C[0],F=C[1],M=Object(c.useState)(),z=Object(j.a)(M,2),B=z[0],G=z[1],T=Object(c.useState)(!1),R=Object(j.a)(T,2),Y=R[0],V=R[1],q=P("put","/api/1.0/users/".concat(u.username)),J=Object(H.c)((function(e){return{loggedInUser:e.loggedInUser}})).loggedInUser;Object(c.useEffect)((function(){p(Object(d.a)({},e.user)),k(e.user.displayName)}),[e.user]);var W=u.username,Q=u.image,X=u.displayName,Z=function(){var e=Object(l.a)(o.a.mark((function e(){var n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(u.username,{displayName:w,image:void 0===B?null:B.split(",")[1]});case 3:n=e.sent,c=n.data,A.a.success(t("success.update")),a({type:x,payload:{displayName:c.displayName,image:c.image}}),g(!1),p((function(e){return Object(d.a)(Object(d.a)({},e),{},{displayName:c.displayName})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.response&&e.t0.response.data&&(s=e.t0.response.data).validationErrors&&F(s.validationErrors);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(W);case 2:V(!1),a({type:h}),s.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"material-icons",children:"save"}),t("save")]}),te=P("delete","/api/1.0/users/"+W);return Object(n.jsxs)("div",{className:"card  text-center",children:[Object(n.jsx)("div",{className:"card-header",children:Object(n.jsx)(_,{width:"200",height:"200",alt:u.username,image:Q,tempimage:B})}),Object(n.jsxs)("div",{className:"card-body",children:[!f&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h3",{children:[X,"@",W]}),W===J.username&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("button",{className:"btn btn-success d-inline-flex",onClick:function(){return g(!0)},children:[Object(n.jsx)("span",{className:"material-icons",children:"create"}),t("edit")]}),Object(n.jsx)("div",{className:"pt-2",children:Object(n.jsxs)("button",{className:"btn btn-danger d-inline-flex",onClick:function(){return V(!0)},children:[Object(n.jsx)("i",{className:"material-icons",children:"directions_run"}),t("Delete My Account")]})})]})]}),f&&Object(n.jsxs)("div",{children:[Object(n.jsx)(L,{name:"displayName",label:t("userSignup.displayName"),onChange:function(e){k(e.target.value),F((function(e){return Object(d.a)(Object(d.a)({},e),{},{displayName:void 0})}))},value:X,error:I.displayName}),Object(n.jsx)(L,{type:"file",className:"form-control-file",error:I.image,onChange:function(e){if(F((function(e){return Object(d.a)(Object(d.a)({},e),{},{image:void 0})})),!(e.target.files.length<1)){var t=e.target.files[0],a=new FileReader;a.onloadend=function(){G(a.result)},a.readAsDataURL(t)}}}),Object(n.jsxs)("div",{children:[Object(n.jsx)(b,{className:"btn btn-primary d-inline-flex",onClick:Z,type:"button",label:ee,pendingApiCall:q,disabled:q}),Object(n.jsxs)("button",{className:"btn btn-light d-inline-flex ml-2",onClick:function(){k(J.displayName),G(void 0),g(!1)},children:[Object(n.jsx)("span",{className:"material-icons",children:"close"}),t("cancel")]})]})]})]}),Object(n.jsx)(K,{visible:Y,title:t("Delete My Account"),okButton:t("Delete My Account"),onClickCancel:function(){V(!1)},onClickOk:$,message:t("Are you sure to delete your account?"),pendingApiCall:te})]})},te=function(e){var t=Object($.useState)({}),a=Object(j.a)(t,2),s=a[0],r=a[1],i=Object($.useState)(!1),u=Object(j.a)(i,2),d=u[0],b=u[1],p=Object(D.h)().username,m=Object(E.a)().t,O=P("get","/api/1.0/users/".concat(p));return Object(c.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(p);case 3:t=e.sent,a=t.data,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[p]),Object(c.useEffect)((function(){b(!1)}),[s]),d?Object(n.jsxs)("div",{className:"alert alert-danger text-center",role:"alert",children:[Object(n.jsx)("div",{children:Object(n.jsx)("span",{class:"material-icons",style:{fontSize:"48px"},children:"error"})}),m("userNotFound")]}):O||s.username!==p?Object(n.jsx)(V,{}):Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(ee,{user:s})}),Object(n.jsx)("div",{children:Object(n.jsx)(q,{})})]})})},ae=a.p+"static/media/hoaxify.e76cb420.png",ne=function(){var e=Object(H.b)(),t=Object(D.g)(),a=Object(E.a)().t,s=Object(H.c)((function(e){return{loggedInUser:e.loggedInUser}})).loggedInUser,r=s.isLoggedIn,i=s.username,u=s.displayName,d=s.image;Object(c.useEffect)((function(){return document.addEventListener("click",g),function(){document.removeEventListener("click",g)}}),[r]);var b=Object(c.useState)(!1),p=Object(j.a)(b,2),O=p[0],x=p[1],f=Object(c.useRef)(null),g=function(e){null!==f.current&&f.current.contains(e.target)||x(!1)},v=function(){var a=Object(l.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.post("/api/1.0/auth/logout");case 3:a.next=7;break;case 5:a.prev=5,a.t0=a.catch(0);case 7:e({type:h}),t.push("/");case 9:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(){return a.apply(this,arguments)}}(),N=Object(n.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(n.jsx)("li",{children:Object(n.jsx)(B.b,{className:"nav-link",to:"/login",children:a("userLoginPage.Login")})}),Object(n.jsx)("li",{children:Object(n.jsx)(B.b,{className:"nav-link",to:"/signup",children:a("userSignup.signUp")})})]});if(r){var y="dropdown-menu p-0 shadow";O&&(y="dropdown-menu p-0 show shadow"),N=Object(n.jsx)("ul",{className:"navbar-nav ml-auto",ref:f,children:Object(n.jsxs)("li",{className:"nav-item dropdown",children:[Object(n.jsxs)("div",{className:"d-flex",style:{cursor:"pointer"},onClick:function(){return x(!0)},children:[Object(n.jsx)(_,{image:d,width:"32",height:"32",alt:"profile",className:"rounded-circle m-auto"}),Object(n.jsx)("span",{className:"nav-link dropdown-toggle",children:u})]}),Object(n.jsxs)("div",{className:y,children:[Object(n.jsxs)(B.b,{className:"dropdown-item d-flex p-2",to:"/user/"+i,onClick:function(){return x(!1)},children:[Object(n.jsx)("i",{className:"material-icons text-info mr-2",children:"person"}),a("myProfile")]}),Object(n.jsxs)("span",{className:"dropdown-item d-flex p-2",style:{cursor:"pointer"},onClick:function(){return v()},children:[Object(n.jsx)("i",{className:"material-icons text-danger mr-2",children:"power_settings_new"}),a("logout")]})]})]})})}return Object(n.jsx)("div",{className:"shadow-sm bg-light",children:Object(n.jsxs)("nav",{className:"navbar navbar-light navbar-expand container",children:[Object(n.jsxs)(B.b,{className:"navbar-brand",to:"/",children:[Object(n.jsx)("img",{src:ae,width:"60",alt:""}),"Hoaxify"]}),N]})})};var ce=function(){var e=Object(H.c)((function(e){return{loggedInUser:e.loggedInUser}})).loggedInUser;return Object(n.jsxs)("div",{children:[Object(n.jsxs)(B.a,{children:[Object(n.jsx)(ne,{}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"mt-3",children:Object(n.jsxs)(D.d,{children:[Object(n.jsx)(D.b,{exact:!0,path:"/",component:Z}),Object(n.jsx)(D.b,{exact:!0,path:"/user/:username",component:te}),!e.isLoggedIn&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(D.b,{exact:!0,path:"/login",component:z}),Object(n.jsx)(D.b,{exact:!0,path:"/signup",component:F})]}),Object(n.jsx)(D.a,{to:"/"})]})})})]}),Object(n.jsx)(M,{})]})},se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,93)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},re=a(37),ie=a(23);re.a.use(ie.e).init({resources:{en:{translations:{"userSignup.signUp":"Sign Up","userSignup.username":"Username","userSignup.displayName":"DisplayName","userSignup.password":"Password","userSignup.rePassword":"Password Repeat","userSignup.passwordNotMatch":"Password doesnt match","userLoginPage.Login":"Login",logout:"Logout",users:"Users",next:"Next",previous:"Previous",LoadFailure:"Load Failure",userNotFound:"User Not Found",edit:"Edit",save:"Save",cancel:"Cancel","success.update":"Updated Successfully",myProfile:"Profile",noHoax:"There are no hoaxes",loadOldHoax:"Load Old Hoaxes",loadNewHoaxes:"Load New Hoaxes","Delete Hoax":"Delete Hoax","Are you sure to delete hoax?":"Are you sure to delete hoax?","Delete My Account":"Delete My Account","Are you sure to delete your account?":"Are you sure to delete your account?"}},tr:{translations:{"userSignup.signUp":"Kay\u0131t Ol","userSignup.username":"Kullanici Adi","userSignup.displayName":"G\xf6r\xfcn\xfcr \u0130sim","userSignup.password":"Parola","userSignup.rePassword":"Parola Tekrar","userSignup.passwordNotMatch":"Parolalar uyu\u015fmuyor","userLoginPage.Login":"Giri\u015f Yap",logout:"\xc7\u0131k\u0131\u015f Yap",users:"Kullan\u0131c\u0131lar",next:"\u0130leri",previous:"\xd6nceki",LoadFailure:"Bir hata olustu.",userNotFound:"Kullan\u0131c\u0131 Bulunamad\u0131",edit:"G\xfcncelle",save:"Kaydet",cancel:"Kapat","success.update":"Basarili Bir Sekilde G\xfcncellendi",myProfile:"Profil",noHoax:"Hi\xe7 bir Hoax Bulunamad\u0131.",loadOldHoax:"Ge\xe7mi\u015f Hoaxlar\u0131 Getir",loadNewHoaxes:"Yeni Hoaxlar Var","Delete Hoax":"Hoaxu Sil","Are you sure to delete hoax?":"Silmek \u0130stedi\u011finize Emin Misiniz ?","Delete My Account":"Hesab\u0131mu Sil","Are you sure to delete your account?":"Hesab\u0131n\u0131z\u0131 Silmek \u0130stedi\u011finizden Emin misiniz ?"}}},fallbackLng:"tr",ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});Object(R.b)("tr",(function(e,t){return[["az \xf6nce","\u015fimdi"],["%s saniye \xf6nce","%s saniye i\xe7inde"],["1 dakika \xf6nce","1 dakika i\xe7inde"],["%s dakika \xf6nce","%s dakika i\xe7inde"],["1 saat \xf6nce","1 saat i\xe7inde"],["%s saat \xf6nce","%s saat i\xe7inde"],["1 g\xfcn \xf6nce","1 g\xfcn i\xe7inde"],["%s g\xfcn \xf6nce","%s g\xfcn i\xe7inde"],["1 hafta \xf6nce","1 hafta i\xe7inde"],["%s hafta \xf6nce","%s hafta i\xe7inde"],["1 ay \xf6nce","1 ay i\xe7inde"],["%s ay \xf6nce","%s ay i\xe7inde"],["1 y\u0131l \xf6nce","1 y\u0131l i\xe7inde"],["%s y\u0131l \xf6nce","%s y\u0131l i\xe7inde"]][t]}));re.a;var oe=a(17),le=a(51),ue=a(52),de=a(29),je=a.n(de),be=(new je.a).get("hoax-user"),pe={loggedInUser:{username:null,displayName:null,password:null,isLoggedIn:!1}};be&&(pe.loggedInUser=Object(d.a)({},be));var me=pe,Oe=new je.a,xe=function(e,t){var a=t.type,n=t.payload;switch(a){case O:var c=Object(d.a)(Object(d.a)({},n),{},{isLoggedIn:!0});return Oe.set("hoax-user",c),c;case x:var s=Object(d.a)(Object(d.a)({},e),{},{displayName:n.displayName,image:n.image});return Oe.set("hoax-user",s),s;case h:return Oe.clear(),{isLoggedIn:!1};default:return Object(d.a)({},e)}},he=Object(oe.combineReducers)({loggedInUser:xe}),fe=[le.a],ge=Object(oe.createStore)(he,me,Object(ue.composeWithDevTools)(oe.applyMiddleware.apply(void 0,fe))),ve=function(){!function(e){var t=e.isLoggedIn,a=e.token;if(t){var n="Bearer ".concat(a);m.a.defaults.headers.Authorization=n}else delete m.a.defaults.headers.Authorization}(ge.getState().loggedInUser)};ve(),ge.subscribe((function(){ve()}));var Ne=ge;r.a.render(Object(n.jsx)(H.a,{store:Ne,children:Object(n.jsx)(ce,{})}),document.getElementById("root")),se()}},[[91,1,2]]]);
//# sourceMappingURL=main.b9a6f3e4.chunk.js.map